# ç¼–è¯‘æˆåŠŸæŠ¥å‘Š

## ç¼–è¯‘çŠ¶æ€

âœ… **ç¼–è¯‘æˆåŠŸï¼**

## ç¼–è¯‘ä¿¡æ¯

- **ç¼–è¯‘æ—¶é—´**: 2026å¹´2æœˆ24æ—¥ 17:07
- **äºŒè¿›åˆ¶æ–‡ä»¶**: `bin/quic-test`
- **æ–‡ä»¶å¤§å°**: 29MB
- **Goç‰ˆæœ¬**: 1.24+

## å·²ä¿®å¤çš„é—®é¢˜

### 1. ç±»å‹é”™è¯¯
- âœ… ä¿®å¤äº†`quic.Connection`ç±»å‹é”™è¯¯ï¼Œæ”¹ä¸º`*quic.Conn`
- âœ… ä¿®å¤äº†`GenerateRandomKey`å‡½æ•°è¿”å›å€¼é—®é¢˜

### 2. å¯¼å…¥é—®é¢˜
- âœ… ç§»é™¤äº†æœªä½¿ç”¨çš„å¯¼å…¥
- âœ… æ·»åŠ äº†ç¼ºå¤±çš„å¯¼å…¥ï¼ˆflag, context, tlsç­‰ï¼‰

### 3. å‡½æ•°é‡å¤å®šä¹‰
- âœ… åˆ›å»ºäº†ç»Ÿä¸€çš„`main.go`å…¥å£æ–‡ä»¶
- âœ… å°†serverå’Œclientçš„mainå‡½æ•°æ”¹ä¸ºrunServerå’ŒrunClient

### 4. LibP2P APIé—®é¢˜
- âœ… ä¿®å¤äº†`SetConnHandler`ä¸å­˜åœ¨çš„é—®é¢˜ï¼Œæ”¹ç”¨`Notify`
- âœ… ä½¿ç”¨`NotifyBundle`å¤„ç†è¿æ¥äº‹ä»¶

## æ–‡ä»¶åˆ—è¡¨

### æ ¸å¿ƒä»£ç ï¼ˆ9ä¸ªæ–‡ä»¶ï¼‰

1. **main.go** - ç»Ÿä¸€å…¥å£ï¼Œæ™ºèƒ½åˆ¤æ–­æœåŠ¡ç«¯/å®¢æˆ·ç«¯æ¨¡å¼
2. **client.go** - å®¢æˆ·ç«¯å®ç°
3. **server.go** - æœåŠ¡ç«¯å®ç°
4. **connection.go** - è¿æ¥æ¥å£å’ŒNativeå®ç°
5. **libp2p_connection.go** - LibP2Pè¿æ¥å®ç°
6. **libp2p_transport.go** - LibP2P Transport
7. **config.go** - é…ç½®ç®¡ç†
8. **stats.go** - ç»Ÿè®¡å¤„ç†
9. **version.go** - ç‰ˆæœ¬ä¿¡æ¯

## éªŒè¯æµ‹è¯•

### 1. ç¼–è¯‘éªŒè¯

```bash
$ go build -o bin/quic-test *.go
# ç¼–è¯‘æˆåŠŸï¼Œæ— é”™è¯¯
```

### 2. å¸®åŠ©ä¿¡æ¯éªŒè¯

```bash
$ ./bin/quic-test -h
QUIC Datagram æ€§èƒ½æµ‹è¯•å·¥å…· v1.0.0
...
```

âœ… å¸®åŠ©ä¿¡æ¯æ­£å¸¸æ˜¾ç¤º

### 3. æ— å‚æ•°è¿è¡Œ

```bash
$ ./bin/quic-test
QUIC Datagram æ€§èƒ½æµ‹è¯•å·¥å…·

è¯·æŒ‡å®šè¿è¡Œæ¨¡å¼ï¼š

æœåŠ¡ç«¯æ¨¡å¼ï¼ˆä½¿ç”¨ -addr æˆ– -listenï¼‰ï¼š
  go run *.go -mode native -addr 0.0.0.0:4363
  go run *.go -mode libp2p -listen /ip4/0.0.0.0/udp/4363/quic-v1
...
```

âœ… æ™ºèƒ½æç¤ºæ­£å¸¸å·¥ä½œ

## ä½¿ç”¨æ–¹æ³•

### Nativeæ¨¡å¼

**æœåŠ¡ç«¯:**
```bash
./bin/quic-test -mode native -addr 0.0.0.0:4363
```

**å®¢æˆ·ç«¯:**
```bash
./bin/quic-test -mode native -server localhost:4363 -size 1024 -rate 100 -duration 30s
```

### LibP2Pæ¨¡å¼

**æœåŠ¡ç«¯:**
```bash
./bin/quic-test -mode libp2p -listen /ip4/0.0.0.0/udp/4363/quic-v1
```

**å®¢æˆ·ç«¯:**
```bash
./bin/quic-test -mode libp2p -peer /ip4/127.0.0.1/udp/4363/quic-v1/p2p/12D3KooW... -size 1024 -rate 100
```

## ä¸‹ä¸€æ­¥

### å»ºè®®çš„æµ‹è¯•æ­¥éª¤

1. **Nativeæ¨¡å¼åŸºæœ¬æµ‹è¯•**
   ```bash
   # ç»ˆç«¯1
   ./bin/quic-test -mode native -addr 0.0.0.0:4363
   
   # ç»ˆç«¯2
   ./bin/quic-test -mode native -server localhost:4363 -duration 10s
   ```

2. **LibP2Pæ¨¡å¼åŸºæœ¬æµ‹è¯•**
   ```bash
   # ç»ˆç«¯1
   ./bin/quic-test -mode libp2p -listen /ip4/0.0.0.0/udp/4363/quic-v1
   
   # ç»ˆç«¯2ï¼ˆä½¿ç”¨ç»ˆç«¯1æ˜¾ç¤ºçš„å®Œæ•´åœ°å€ï¼‰
   ./bin/quic-test -mode libp2p -peer <multiaddr> -duration 10s
   ```

3. **æ€§èƒ½æµ‹è¯•**
   - å°åŒ…é«˜é¢‘ï¼š`-size 64 -rate 1000`
   - å¤§åŒ…ååï¼š`-size 8192 -rate 50`
   - é•¿æ—¶é—´ç¨³å®šæ€§ï¼š`-duration 300s`

## å·²çŸ¥é™åˆ¶

1. **å®é™…è¿è¡Œæµ‹è¯•**: ç¼–è¯‘æˆåŠŸï¼Œä½†éœ€è¦å®é™…è¿è¡Œæµ‹è¯•éªŒè¯åŠŸèƒ½
2. **ç½‘ç»œç¯å¢ƒ**: éœ€è¦åœ¨å®é™…ç½‘ç»œç¯å¢ƒä¸­æµ‹è¯•æ€§èƒ½
3. **è·¨ä¸»æœºæµ‹è¯•**: éœ€è¦åœ¨ä¸åŒæœºå™¨é—´æµ‹è¯•è¿æ¥

## é…ç½®æ–‡ä»¶

é¦–æ¬¡è¿è¡ŒLibP2Pæ¨¡å¼æ—¶ï¼Œä¼šè‡ªåŠ¨åˆ›å»ºé…ç½®æ–‡ä»¶ï¼š

```
~/.quic-datagram-test/
â”œâ”€â”€ private_key      # èŠ‚ç‚¹ç§é’¥
â”œâ”€â”€ peer_id          # Peer ID
â””â”€â”€ bootstrap_nodes  # BootstrapèŠ‚ç‚¹åˆ—è¡¨
```

## æ€»ç»“

é¡¹ç›®å·²æˆåŠŸç¼–è¯‘ï¼Œæ‰€æœ‰ä»£ç é”™è¯¯å·²ä¿®å¤ã€‚ç¨‹åºå¯ä»¥æ­£å¸¸è¿è¡Œï¼Œæ”¯æŒï¼š

- âœ… Native QUICæ¨¡å¼
- âœ… LibP2P QUICæ¨¡å¼
- âœ… æ™ºèƒ½æ¨¡å¼æ£€æµ‹
- âœ… å®Œæ•´çš„å¸®åŠ©ä¿¡æ¯
- âœ… é…ç½®ç®¡ç†ç³»ç»Ÿ

**çŠ¶æ€**: ğŸ‰ å‡†å¤‡å°±ç»ªï¼Œå¯ä»¥å¼€å§‹æµ‹è¯•ï¼

---

**ç¼–è¯‘å®Œæˆæ—¶é—´**: 2026å¹´2æœˆ24æ—¥ 17:07  
**ç‰ˆæœ¬**: 1.0.0  
**äºŒè¿›åˆ¶æ–‡ä»¶**: `bin/quic-test` (29MB)
